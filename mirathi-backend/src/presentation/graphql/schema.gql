# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

"""The current status of the user account"""
enum AccountStatus {
  ACTIVE
  ARCHIVED
  PENDING_ONBOARDING
  SUSPENDED
}

"""Authentication provider (Google, etc.)"""
enum AuthProvider {
  GOOGLE
}

type AuthResponse {
  isNewUser: Boolean!
  message: String
  user: User!
}

input BulkDeleteUsersInput {
  userIds: [ID!]!
}

type BulkOperationResult {
  failed: [ID!]!
  succeeded: [ID!]!
  totalFailed: Int!
  totalSucceeded: Int!
}

input BulkSuspendUsersInput {
  reason: String
  userIds: [ID!]!
}

input ChangeRoleInput {
  newRole: UserRole!
  reason: String
  userId: ID!
}

"""Date custom scalar type (ISO 8601 format)"""
scalar DateTime

"""Counties"""
enum KenyanCounty {
  BARINGO
  BOMET
  BUNGOMA
  BUSIA
  ELGEYO_MARAKWET
  EMBU
  GARISSA
  HOMA_BAY
  ISIOLO
  KAJIADO
  KAKAMEGA
  KERICHO
  KIAMBU
  KILIFI
  KIRINYAGA
  KISII
  KISUMU
  KITUI
  KWALE
  LAIKIPIA
  LAMU
  MACHAKOS
  MAKUENI
  MANDERA
  MARSABIT
  MERU
  MIGORI
  MOMBASA
  MURANGA
  NAIROBI
  NAKURU
  NANDI
  NAROK
  NYAMIRA
  NYANDARUA
  NYERI
  SAMBURU
  SIAYA
  TAITA_TAVETA
  TANA_RIVER
  THARAKA_NITHI
  TRANS_NZOIA
  TURKANA
  UASIN_GISHU
  VIHIGA
  WAJIR
  WEST_POKOT
}

"""Preferred language"""
enum Language {
  ENGLISH
  SWAHILI
}

input ListUsersInput {
  limit: Int = 20
  page: Int = 1
  role: String
  search: String
  sortBy: String = "createdAt"
  sortOrder: String = "desc"
  status: String
}

type Mutation {
  """Manually activate a user (Admin only)"""
  activateUser(userId: ID!): User!

  """Delete multiple users at once (Admin only)"""
  bulkDeleteUsers(input: BulkDeleteUsersInput!): BulkOperationResult!

  """Suspend multiple users at once (Admin only)"""
  bulkSuspendUsers(input: BulkSuspendUsersInput!): BulkOperationResult!

  """Change user role (Admin only)"""
  changeUserRole(input: ChangeRoleInput!): User!

  """Complete user onboarding process"""
  completeOnboarding: User!

  """Delete a user (soft delete) (Admin only)"""
  deleteUser(userId: ID!): User!

  """Demote user to USER role (Admin only)"""
  demoteToUser(reason: String, userId: ID!): User!

  """Handle OAuth callback from provider (Google, Apple)"""
  handleOAuthCallback(input: OAuthCallbackInput!): AuthResponse!

  """Promote user to ADMIN role (Admin only)"""
  promoteToAdmin(reason: String, userId: ID!): User!

  """Promote user to VERIFIER role (Admin only)"""
  promoteToVerifier(reason: String, userId: ID!): User!

  """Restore a soft-deleted user (Admin only)"""
  restoreUser(userId: ID!): User!

  """Suspend a user (Admin only)"""
  suspendUser(input: SuspendUserInput!): User!

  """Unsuspend a user (Admin only)"""
  unsuspendUser(userId: ID!): User!

  """Update user phone number"""
  updatePhoneNumber(input: UpdatePhoneInput!): User!

  """Update user profile"""
  updateProfile(input: UpdateProfileInput!): User!

  """Update user settings"""
  updateSettings(input: UpdateSettingsInput!): User!
}

type NotificationCapabilities {
  email: Boolean!
  sms: Boolean!
}

input OAuthCallbackInput {
  code: String!
  provider: AuthProvider!
  redirectUri: String!
}

type OnboardingStatus {
  hasProfile: Boolean!
  hasSettings: Boolean!
  isComplete: Boolean!
  needsOnboarding: Boolean!
}

type PaginatedUsers {
  page: Int!
  total: Int!
  totalPages: Int!
  users: [User!]!
}

"""A valid E.164 phone number"""
scalar PhoneNumber

type Query {
  """List users with pagination and sorting (Admin only)"""
  listUsers(input: ListUsersInput!): PaginatedUsers!

  """Get current authenticated user"""
  me: User!

  """Check what notification channels are available for current user"""
  notificationCapabilities: NotificationCapabilities!

  """Check onboarding status for current user"""
  onboardingStatus: OnboardingStatus!

  """Search users with filters (Admin only)"""
  searchUsers(input: SearchUsersInput!): SearchUsersResult!

  """Get user by ID"""
  user(id: ID!): User!

  """Get user by email"""
  userByEmail(email: String!): User!

  """Get user by phone number"""
  userByPhone(phoneNumber: String!): User!

  """Get user statistics for dashboard (Admin only)"""
  userStatistics: UserStatistics!
}

type RoleCount {
  count: Int!
  role: String!
}

input SearchUsersInput {
  county: String
  limit: Int = 50
  offset: Int = 0
  role: String
  status: String
}

type SearchUsersResult {
  total: Int!
  users: [User!]!
}

type StatusCount {
  count: Int!
  status: String!
}

input SuspendUserInput {
  reason: String
  userId: ID!
}

"""UI Theme preference"""
enum Theme {
  DARK
  LIGHT
  SYSTEM
}

input UpdatePhoneInput {
  phoneNumber: String!
}

input UpdateProfileInput {
  avatarUrl: String
  county: KenyanCounty
  firstName: String
  lastName: String
  phoneNumber: String
  physicalAddress: String
  postalAddress: String
}

input UpdateSettingsInput {
  emailNotifications: Boolean
  language: Language
  marketingOptIn: Boolean
  pushNotifications: Boolean
  smsNotifications: Boolean
  theme: Theme
}

type User {
  createdAt: DateTime!
  deletedAt: DateTime
  displayName: String!
  hasCompletedOnboarding: Boolean!
  id: ID!
  identities: [UserIdentity!]!
  isActive: Boolean!
  isDeleted: Boolean!
  isPendingOnboarding: Boolean!
  isSuspended: Boolean!
  needsOnboarding: Boolean!
  profile: UserProfile
  role: UserRole!
  settings: UserSettings
  status: AccountStatus!
  updatedAt: DateTime!
}

type UserIdentity {
  email: String!
  id: ID!
  isPrimary: Boolean!
  lastUsedAt: DateTime!
  linkedAt: DateTime!
  provider: AuthProvider!
}

type UserProfile {
  avatarUrl: String
  county: KenyanCounty
  firstName: String!
  fullName: String!
  id: ID!
  lastName: String!

  """E.164 format"""
  phoneNumber: String
  phoneVerified: Boolean!
  physicalAddress: String
  postalAddress: String
  updatedAt: DateTime!
}

"""The role of the user in the system"""
enum UserRole {
  ADMIN
  USER
  VERIFIER
}

type UserSettings {
  emailNotifications: Boolean!
  id: ID!
  language: Language!
  marketingOptIn: Boolean!
  pushNotifications: Boolean!
  smsNotifications: Boolean!
  theme: Theme!
  updatedAt: DateTime!
}

type UserStatistics {
  byRole: [RoleCount!]!
  byStatus: [StatusCount!]!
  totalUsers: Int!
}